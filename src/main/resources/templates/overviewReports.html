<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rapport Oversigt</title>
    <link rel="stylesheet" href="../static/css/overviewReports.css" th:href="@{/css/overviewReports.css}">
</head>
<body>

<header th:insert="fragments/damageheader.html"></header>

<div class="main">
    <div class="overskrift">
        <h1>Rapport oversigt</h1>
    </div>

    <div class="overskrift">
        <a href="/create"><button class="opretRapport">Opret ny rapport</button></a>
    </div>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Udlejnings-ID</th>
            <th>Titel</th>
            <th>Dato</th>
            <th>Behandling</th>
            <th>Beskrivelse</th>
            <th>Skader</th>
            <th>Handling</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="report : ${listOfReports}">
            <td th:text="${report.id}"></td>
            <td th:text="${report.rentalId}"></td>
            <td th:text="${report.title}"></td>
            <td th:text="${report.date}"></td>
            <td th:text="${report.treatment}"></td>
            <td th:text="${report.comment}"></td>
            <td>
                <ul>
                    <li th:each="damage : ${report.damages}">
                        <span th:text="${damage.key}"></span>: <span th:text="${damage.value}"></span>
                    </li>
                </ul>
            </td>
            <td>
                <div class="edit-button">
                    <a th:href="@{'/updateForm/' + ${report.id}}">
                        <button>Opdater</button>
                    </a>
                </div>
                <div class="delete-button">
                    <a th:href="@{'/delete/' + ${report.id}}"
                       onclick="return confirm('Er du sikker pÃ¥ du vil slette rapporten?')">
                        <button>Slet</button>
                    </a>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>